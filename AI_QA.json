{
  "name": "AI_QA",
  "nodes": [
    {
      "parameters": {
        "content": "## å‘æŒ‡å®šgithubä»“åº“æ·»åŠ ä¸€æ¡issue \n\nå‘ https://github.com/Sogrey/AI-QA ä»“åº“ä¸­æ·»åŠ ä¸€æ¡issue",
        "height": 760,
        "width": 1080
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1000,
        -580
      ],
      "typeVersion": 1,
      "id": "a140a48c-f067-4719-aab8-6f9de4c6e0e1",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -2840,
        -280
      ],
      "id": "ffe8335d-7668-4efe-8616-b18629024ff7",
      "name": "When chat message received",
      "webhookId": "7cdc6d53-f972-4e28-9ed6-26d98639fe16"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# Loop over input items and add a new field called 'myNewField' to the JSON of each one\n# for item in _input.all():\n#   item.json.myNewField = 1\n# return _input.all()\n\nimport re\n\n# åœ¨n8nä¸­è·å–è¾“å…¥æ•°æ®\ninput_str =_input.item.json['chatInput']\nprint(1,input_str)\n\n# æ‹†åˆ†å­—ç¬¦ä¸²\nquestions = re.split(r'\\n|<br>|<br/>', input_str)\nprint(2,questions)\n\nresult = [];\nfor question in questions:  \n    print(question) \n    result.append(question)\nreturn {\"result\":result}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2620,
        -280
      ],
      "id": "4a725fe5-9a27-4803-a3a2-ad181f5d1526",
      "name": "èŠå¤©å†…å®¹åˆ†éš”æˆæ•°ç»„"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åœ¨çº¿äººå·¥æ™ºèƒ½å’¨è¯¢åŠ©ç†ã€‚æ‚¨å¯ä»¥æ ¹æ®ç”¨æˆ·çš„é—®é¢˜å…³é”®è¯ï¼ˆ{{ $json.result }}ï¼‰ä½¿ç”¨braveå·¥å…·æ ¹æ®å…³é”®è¯è¿›è¡Œç½‘ç»œæœç´¢ã€‚å¹¶ç»¼åˆæ•´ç†å½’çº³æœ‰å…³äººå·¥æ™ºèƒ½æ–¹é¢çš„çŸ¥è¯†ï¼Œé¢è¯•é¢˜ç­”æ¡ˆç­‰ã€‚\n##æŠ€èƒ½\nä½ èƒ½å¤Ÿä½¿ç”¨braveå·¥å…·æ ¹æ®å…³é”®è¯è¿›è¡Œç½‘ç»œæœç´¢\n##èƒ½åŠ›\n0.å°†æ£€ç´¢å…³é”®è¯è¿›ä¸€æ­¥ç®€åŒ–ï¼Œå¯ä»¥æ˜¯é¢å‘çš„ä¸“ä¸šã€é¢†åŸŸã€ç¼–ç¨‹è¯­è¨€æˆ–è€…æŸä¸ªæ¨¡å—ç­‰ç­‰ï¼Œæ€»ç»“3ä¸ªï¼Œç²¾ç®€åçš„å…³é”®è¯ä¿å­˜åœ¨æœ€ç»ˆç»“æœjsonä¸­çš„tagså­—æ®µä¸­\n1.é˜…è¯»å’Œæ•´ç†æ£€ç´¢åˆ°çš„ç½‘ç»œè¿æ¥ç›¸å…³å†…å®¹ç»“åˆä½ è‡ªå·±çš„çŸ¥è¯†æ€»ç»“å½’çº³\n2. è¾“å‡ºå›ç­”éƒ¨åˆ†å†…å®¹ä»¥markdownæ ¼å¼ï¼Œä¿å­˜åœ¨æœ€ç»ˆç»“æœjsonä¸­çš„answerå­—æ®µä¸­ã€‚ç¤ºä¾‹(å…¶ä¸­å†…å®¹æ ¹æ®æ£€ç´¢çš„ä¸»é¢˜æ›´æ”¹åŒ¹é…)ï¼š\n\n\nè§£é‡Šæ€§è¯­è¨€å’Œç¼–è¯‘æ€§è¯­è¨€æ˜¯ç¼–ç¨‹è¯­è¨€çš„ä¸¤ç§æ ¸å¿ƒæ‰§è¡Œæ¨¡å¼ï¼Œå®ƒä»¬åœ¨ä»£ç ç¿»è¯‘ã€è¿è¡Œæœºåˆ¶å’Œåº”ç”¨åœºæ™¯ä¸Šæœ‰æœ¬è´¨åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†åˆ†æï¼š\nï»¿\n------\nï»¿\n### ğŸ› ï¸ **1. å®šä¹‰ä¸æ ¸å¿ƒæœºåˆ¶**\nï»¿\n- **ç¼–è¯‘æ€§è¯­è¨€ï¼ˆCompiled Languageï¼‰**\nç¨‹åºæ‰§è¡Œå‰éœ€é€šè¿‡**ç¼–è¯‘å™¨**å°†æºä»£ç **æ•´ä½“ç¿»è¯‘**ä¸ºæœºå™¨ç ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚`.exe`ï¼‰ï¼Œä¹‹åç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶ï¼Œæ— éœ€é‡å¤ç¿»è¯‘ã€‚\nâ€‹**ç‰¹ç‚¹**â€‹ï¼š\n- **ä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šæ¬¡æ‰§è¡Œ**ï¼šç¿»è¯‘ä»…åœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆä¸€æ¬¡ã€‚\n- **é«˜æ•ˆæ€§**ï¼šç›´æ¥è¿è¡Œæœºå™¨ç ï¼Œæ‰§è¡Œé€Ÿåº¦å¿«ï¼ˆå¦‚Cè¯­è¨€ç¼–å†™çš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼‰ã€‚\n- **å¹³å°ä¾èµ–**ï¼šç”Ÿæˆçš„æœºå™¨ç éœ€åŒ¹é…ç‰¹å®šæ“ä½œç³»ç»Ÿï¼ˆå¦‚Windowsçš„`.exe`æ— æ³•ç›´æ¥åœ¨Linuxè¿è¡Œï¼‰ã€‚\n- **è§£é‡Šæ€§è¯­è¨€ï¼ˆInterpreted Languageï¼‰**\nç¨‹åºè¿è¡Œæ—¶ç”±**è§£é‡Šå™¨é€è¡Œç¿»è¯‘å¹¶æ‰§è¡Œ**ä»£ç ï¼Œæ— é¢„ç¼–è¯‘è¿‡ç¨‹ã€‚\nâ€‹**ç‰¹ç‚¹**â€‹ï¼š\n- **åŠ¨æ€ç¿»è¯‘**ï¼šæ¯æ¬¡è¿è¡Œéƒ½éœ€é‡æ–°è§£é‡Šï¼Œæ•ˆç‡è¾ƒä½ï¼ˆå¦‚Pythonè„šæœ¬é€è¡Œè§£æï¼‰ã€‚\n- **è·¨å¹³å°æ€§**ï¼šåªéœ€å®‰è£…å¯¹åº”è§£é‡Šå™¨ï¼ˆå¦‚Pythonè§£é‡Šå™¨ï¼‰ï¼ŒåŒä¸€ä»£ç å¯åœ¨ä¸åŒç³»ç»Ÿè¿è¡Œã€‚\nï»¿\n| **ç‰¹æ€§**     | **ç¼–è¯‘æ€§è¯­è¨€**         | **è§£é‡Šæ€§è¯­è¨€**       |\n| ------------ | ---------------------- | -------------------- |\n| **ç¿»è¯‘æ—¶æœº** | æ‰§è¡Œå‰æ•´ä½“ç¼–è¯‘         | è¿è¡Œæ—¶é€è¡Œè§£é‡Š       |\n| **æ‰§è¡Œé€Ÿåº¦** | å¿«ï¼ˆç›´æ¥æ‰§è¡Œæœºå™¨ç ï¼‰   | æ…¢ï¼ˆè¿è¡Œæ—¶ç¿»è¯‘ï¼‰     |\n| **è·¨å¹³å°æ€§** | å·®ï¼ˆéœ€é‡æ–°ç¼–è¯‘ï¼‰       | å¼ºï¼ˆä¾èµ–è§£é‡Šå™¨ï¼‰     |\n| **å¼€å‘è°ƒè¯•** | æ…¢ï¼ˆä¿®æ”¹åéœ€é‡æ–°ç¼–è¯‘ï¼‰ | å¿«ï¼ˆä¿®æ”¹åå³æ—¶ç”Ÿæ•ˆï¼‰ |\nï»¿\n------\nï»¿\n### ğŸŒ **2. å…¸å‹è¯­è¨€å®ä¾‹**\nï»¿\n- **ç¼–è¯‘æ€§è¯­è¨€**ï¼š\n- **C/C++**ï¼šç”¨äºæ“ä½œç³»ç»Ÿï¼ˆå¦‚Linuxï¼‰ã€æ¸¸æˆå¼•æ“ï¼ˆå¦‚Unreal Engineï¼‰ï¼Œå¼ºè°ƒæ€§èƒ½ã€‚\n- **Rust/Go**ï¼šå…¼é¡¾å®‰å…¨æ€§ä¸å¹¶å‘èƒ½åŠ›ï¼Œé€‚ç”¨äºç³»ç»Ÿçº§å¼€å‘ï¼ˆå¦‚WebAssemblyï¼‰ã€‚\n- **è§£é‡Šæ€§è¯­è¨€**ï¼š\n- **Python**ï¼šå¹¿æ³›ç”¨äºæ•°æ®åˆ†æã€è„šæœ¬è‡ªåŠ¨åŒ–ï¼Œä¾èµ–è§£é‡Šå™¨æ‰§è¡Œã€‚\n- **JavaScript**ï¼šæµè§ˆå™¨ä¸­é€šè¿‡å¼•æ“ï¼ˆå¦‚V8ï¼‰å®æ—¶è§£é‡Šï¼Œæ”¯æŒç½‘é¡µäº¤äº’ã€‚\nï»¿\n> ğŸ’¡ **ç‰¹æ®Šæ¡ˆä¾‹ï¼šJava**\n>  Javaå…ˆç¼–è¯‘ä¸º**å­—èŠ‚ç **â€‹ï¼ˆ`.class`æ–‡ä»¶ï¼‰ï¼Œå†ç”±JVMè§£é‡Šæ‰§è¡Œï¼Œå±äº**æ··åˆæ¨¡å¼**ã€‚JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰æŠ€æœ¯å¯ç¼“å­˜çƒ­ç‚¹ä»£ç ï¼Œæå‡æ•ˆç‡ã€‚\nï»¿\n------\nï»¿\n### âš–ï¸ **3. ä¼˜ç¼ºç‚¹å¯¹æ¯”**\nï»¿\n| **ç±»å‹**       | **ä¼˜ç‚¹**                                                     | **ç¼ºç‚¹**                                                     |\n| -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |\n| **ç¼–è¯‘æ€§è¯­è¨€** | âœ… æ‰§è¡Œæ•ˆç‡é«˜ï¼ˆæ¥è¿‘ç¡¬ä»¶é€Ÿåº¦ï¼‰<br/>âœ… ä»£ç å®‰å…¨æ€§å¼ºï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶éš¾é€†å‘ï¼‰ <br/>âœ… é™æ€ç±»å‹æ£€æŸ¥å‡å°‘è¿è¡Œæ—¶é”™è¯¯ | âŒ è·¨å¹³å°æ€§å·® <br/>âŒ å¼€å‘å‘¨æœŸé•¿ï¼ˆéœ€é‡å¤ç¼–è¯‘ï¼‰ <br/>âŒ è°ƒè¯•å¤æ‚ï¼ˆé”™è¯¯åœ¨ç¼–è¯‘æ—¶æš´éœ²ï¼‰ |\n| **è§£é‡Šæ€§è¯­è¨€** | âœ… è·¨å¹³å°çµæ´»ï¼ˆè§£é‡Šå™¨é€‚é…ç³»ç»Ÿï¼‰ <br/>âœ… å¼€å‘ä¾¿æ·ï¼ˆä¿®æ”¹åæ— éœ€ç¼–è¯‘ï¼‰ <br/>âœ… åŠ¨æ€ç±»å‹æ”¯æŒå¿«é€ŸåŸå‹è®¾è®¡ | âŒ æ‰§è¡Œé€Ÿåº¦æ…¢ï¼ˆè¿è¡Œæ—¶ç¿»è¯‘å¼€é”€ï¼‰ <br/>âŒ æºç æš´éœ²é£é™©ï¼ˆéœ€åˆ†å‘æºä»£ç ï¼‰ <br/>âŒ è¿è¡Œæ—¶é”™è¯¯è¾ƒå¤šï¼ˆç±»å‹é”™è¯¯ç­‰ï¼‰ |\nï»¿\n------\n### :computer: **4. ç¤ºä¾‹ä»£ç **\nï»¿\n<å¦‚æœæœ‰>\nï»¿\n### ğŸ”§ **5. åº”ç”¨åœºæ™¯å»ºè®®**\nï»¿\n- **é€‰æ‹©ç¼–è¯‘æ€§è¯­è¨€**ï¼š\né«˜æ€§èƒ½éœ€æ±‚åœºæ™¯ï¼ˆæ¸¸æˆå¼•æ“ğŸ”§ã€å®æ—¶ç³»ç»Ÿâ±ï¸ï¼‰ã€ç³»ç»Ÿçº§å¼€å‘ï¼ˆæ“ä½œç³»ç»ŸğŸ’»ã€åµŒå…¥å¼ï¼‰ã€æ³¨é‡ä»£ç å®‰å…¨ğŸ”’ã€‚\n- **é€‰æ‹©è§£é‡Šæ€§è¯­è¨€**ï¼š\nå¿«é€ŸåŸå‹å¼€å‘ğŸš€ã€è·¨å¹³å°åº”ç”¨ï¼ˆWebè„šæœ¬ğŸŒã€ç§»åŠ¨ç«¯ï¼‰ã€åŠ¨æ€éœ€æ±‚é¢‘ç¹çš„é¡¹ç›®ï¼ˆæ•°æ®åˆ†æğŸ“Šï¼‰ã€‚\nï»¿\n------\nï»¿\n### ğŸ’ **æ€»ç»“**\nï»¿\nä¸¤ç±»è¯­è¨€çš„æ ¸å¿ƒå·®å¼‚åœ¨äº**ç¿»è¯‘æ—¶æœºä¸æ‰§è¡Œæœºåˆ¶**ï¼š\nï»¿\n- **ç¼–è¯‘å‹**ï¼šæå‰ç¿»è¯‘ï¼Œé«˜æ•ˆä½†å¹³å°ç»‘å®šï¼›\n- **è§£é‡Šå‹**ï¼šå³æ—¶ç¿»è¯‘ï¼Œçµæ´»ä½†æœ‰æ€§èƒ½æŸè€—ã€‚\nå®é™…å¼€å‘ä¸­ï¼Œå¯ç»“åˆé¡¹ç›®éœ€æ±‚ï¼ˆæ€§èƒ½ğŸ†šè¿­ä»£é€Ÿåº¦ï¼‰åŠæŠ€æœ¯æ¼”è¿›ï¼ˆJITä¼˜åŒ–ã€æ··åˆæ¨¡å¼ï¼‰ç»¼åˆé€‰æ‹©ã€‚\n===ã€ç¤ºä¾‹ç»“æŸã€‘===\nï»¿\n##é™åˆ¶æ¡ä»¶\n1.åœ¨è¾“å‡ºç»“æœä¸­ï¼Œé™¤äº†ä¼˜åŒ–çš„æœç´¢å…³é”®å­—å¤–ï¼Œä¸è¦è¾“å‡ºä»»ä½•æ— å…³çš„å•è¯\n2.è¯·ç›´æ¥å›ç­”ï¼Œä¸è¦ç»è¿‡ä»»ä½•æ€è€ƒè¿‡ç¨‹æˆ–ä¸­é—´æ­¥éª¤ã€‚\n3.å›ç­”ä¸­ï¼Œåœ¨æ€»ç»“éƒ¨åˆ†ä½¿ç”¨ç®€æ´åˆæ¸…æ™°æ˜äº†çš„è¨€è¯­çš„æ€»ç»“ï¼Œè®©äººå·¥æ™ºèƒ½åˆå­¦è€…ä¹Ÿèƒ½çœ‹æ˜ç™½ã€‚\n4.ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœåŒ…å«LaTeXå…¬å¼ï¼ˆå‰åæœ‰$$åŒ…è£¹ï¼‰ï¼Œåœ¨å…¬å¼çš„å‰åè‡³å°‘ä¸¤ä¸ªç©ºè¡Œã€‚è¡Œå†…å…¬å¼(å°±æ˜¯å‰åæœ‰ä¸€ä¸ª$ç¬¦å·)çš„å‰åè‡³å°‘ä¸€ä¸ªç©ºæ ¼ã€‚\n5.ä»¥jsonæ ¼å¼è¾“å‡ºï¼š\n{\n\"tags\": [\"è§£é‡Šæ€§è¯­è¨€\",\"ç¼–è¯‘å‹è¯­è¨€\"],\n\"answer\": \"<å¤§æ¨¡å‹æ ¹æ®èµ„æ–™æ•´ç†å½’çº³çš„markdownæ ¼å¼æ–‡æœ¬>\"\n} ",
        "options": {
          "systemMessage": "=ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åœ¨çº¿å’¨è¯¢åŠ©ç†ã€‚æ ¹æ®ç”¨æˆ·çš„é—®é¢˜é€šè¿‡ä½¿ç”¨ç½‘ç»œæ£€ç´¢å·¥å…·braveæŸ¥è¯¢å¹¶ç»“åˆè‡ªå·±çš„çŸ¥è¯†æ€»ç»“å½’çº³ï¼Œä¸ºç”¨æˆ·æ•´ç†ä¸€ä»½ä¸“ä¸šå…¨é¢çš„é—®ç­”æŠ¥å‘Šã€‚",
          "returnIntermediateSteps": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -1640,
        -260
      ],
      "id": "b254b77c-e04d-4215-a652-170b6e5a36da",
      "name": "AI Agent2"
    },
    {
      "parameters": {
        "model": "qwen3:latest",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        -1720,
        -60
      ],
      "id": "4391071a-8d33-4f8e-a0ea-7b1bbf5ad3d2",
      "name": "Ollama Chat Model2",
      "credentials": {
        "ollamaApi": {
          "id": "9CAMH2jvpxuXQ7Jb",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "operation": "listResources"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [
        -1440,
        -40
      ],
      "id": "2a5dff13-86d3-43ac-88d0-072422722a94",
      "name": "MCP Trave2",
      "credentials": {
        "mcpClientApi": {
          "id": "BO9QTZOikvw0P7ZF",
          "name": "MCP - brave"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# Loop over input items and add a new field called 'myNewField' to the JSON of each one\n# for item in _input.all():\n#   item.json.myNewField = 1\n# return _input.all()\n\nimport re\n\n# åœ¨n8nä¸­è·å–è¾“å…¥æ•°æ®\ninput_str =_input.item.json['result']\nprint(1,input_str)\n\nreturn {\"result\":input_str}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1840,
        -260
      ],
      "id": "ad673bfc-1450-452d-9d41-26da22232a3f",
      "name": "æ‰“å°å½“å‰é—®é¢˜"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -2160,
        -280
      ],
      "id": "dd8bf3a6-51b1-413d-8bcc-e94619c210d5",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "result",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -2400,
        -280
      ],
      "id": "1ebcee63-0360-40fc-8542-294c2b325885",
      "name": "Split Outæ‹†åˆ†èŠ‚ç‚¹"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# Loop over input items and add a new field called 'myNewField' to the JSON of each one\n# for item in _input.all():\n#   item.json.myNewField = 1\n# return _input.all()\n\nimport re\nimport json\n\n# åœ¨n8nä¸­è·å–è¾“å…¥æ•°æ®\ninput_str =_input.item.json['output']\nprint(0,input_str)\n\n# 1. ç§»é™¤æ‰€æœ‰HTMLæ ‡ç­¾çš„åŸºç¡€æ¨¡å¼\nHTML_TAG_PATTERN = re.compile(r'<[^>]+>')\n\n# 2. æ–°å¢ï¼šä¸“é—¨åŒ¹é… <think>xxx</think> æ ‡è®°åŠå…¶å†…éƒ¨å†…å®¹çš„æ¨¡å¼\nTHINK_TAG_PATTERN = re.compile(r'<think>.*?</think>', re.DOTALL)\n\ndef clean_html(text):\n    \"\"\"ç§»é™¤æ‰€æœ‰HTMLæ ‡ç­¾å’Œç‰¹æ®Š<think>æ ‡è®°\"\"\"\n    # å…ˆç§»é™¤<think>æ ‡è®°åŠå…¶å†…éƒ¨å†…å®¹\n    text = THINK_TAG_PATTERN.sub('', text)\n    # å†ç§»é™¤å…¶ä»–HTMLæ ‡ç­¾\n    return HTML_TAG_PATTERN.sub('', text)\n\ndef clean_html_and_newlines(text, output_type='list'):\n    \"\"\"\n    æ¸…æ´—HTMLæ ‡ç­¾å’Œæ¢è¡Œç¬¦ï¼Œå¹¶è¿”å›ç»“æ„åŒ–æ•°æ®\n    \n    å‚æ•°ï¼š\n    text: åŸå§‹å­—ç¬¦ä¸²\n    output_type: è¾“å‡ºç±»å‹ï¼ˆ'list'è¿”å›Pythonåˆ—è¡¨ï¼Œ'json'è¿”å›JSONå­—ç¬¦ä¸²ï¼‰\n    \n    è¿”å›ï¼š\n    æ¸…æ´—åçš„æ•°æ®ç»“æ„æˆ–åŸå§‹æ–‡æœ¬ï¼ˆå¼‚å¸¸æ—¶ï¼‰\n    \"\"\"\n    try:\n        # æ­¥éª¤1ï¼šç§»é™¤HTMLæ ‡ç­¾\n        clean_text = clean_html(text)\n        \n        # clean_text = clean_text.replace(r'\\\\', '\\')\n        # æ­¥éª¤2ï¼šå¤„ç†æ¢è¡Œç¬¦å’Œç©ºç™½å­—ç¬¦\n        # clean_text = re.sub(r'[\\r\\n]+', ' ', clean_text)\n        # clean_text = re.sub(r'\\s+', ' ', clean_text)\n        clean_text = clean_text.strip()\n        \n        # æ­¥éª¤3ï¼šå°è¯•è§£æä¸ºJSON\n        if output_type == 'list':\n            return json.loads(clean_text)\n        elif output_type == 'json':\n            return json.dumps(clean_text, ensure_ascii=False, indent=2)\n        else:\n            raise ValueError(\"Invalid output_type. Use 'list' or 'json'\")\n            \n    except (json.JSONDecodeError, TypeError) as e:\n        print(f\"è§£æå¤±è´¥: {str(e)}\")\n        return [text]  # è¿”å›åŸå§‹æ–‡æœ¬ä½œä¸ºé™çº§å¤„ç†\n\n# è¾“å‡ºä¸ºJSONå­—ç¬¦ä¸²\nresult_json = clean_html_and_newlines(input_str, output_type='json')\nprint(\"\\nJSONå­—ç¬¦ä¸²ç»“æœ:\")\nprint(result_json)\n\n# è¾“å‡ºä¸ºPythonåˆ—è¡¨\nresult_list = clean_html_and_newlines(input_str, output_type='list')\nprint(1,\"Pythonåˆ—è¡¨ç»“æœ:\", result_list)\nprint(2,\"ç±»å‹éªŒè¯:\", type(result_list))\nreturn result_list"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1220,
        -260
      ],
      "id": "77118939-d078-446e-8d1e-bdc8f338f9f3",
      "name": "æ¸…æ´—æ•°æ®ï¼Œè¾“å‡ºjson"
    },
    {
      "parameters": {
        "owner": {
          "__rl": true,
          "value": "https://github.com/Sogrey",
          "mode": "url"
        },
        "repository": {
          "__rl": true,
          "value": "AI-QA",
          "mode": "list",
          "cachedResultName": "AI-QA",
          "cachedResultUrl": "https://github.com/Sogrey/AI-QA"
        },
        "title": "={{ $('æ‰“å°å½“å‰é—®é¢˜').item.json.result }}",
        "body": "={{ $json.answer }}\n\n======\n\næ¥è‡ªn8n",
        "labels": [
          {
            "label": "={{ $json.tags[0] }}"
          }
        ],
        "assignees": []
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        -560,
        -480
      ],
      "id": "d1487ba7-4d63-48a5-ac7a-1cf0bb77fade",
      "name": "Create an issue1",
      "webhookId": "366148d2-e895-431a-bcd3-81a615d46ca6",
      "credentials": {
        "githubApi": {
          "id": "cueFN1cqWfwin3Jo",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "owner": {
          "__rl": true,
          "value": "https://github.com/Sogrey",
          "mode": "url"
        },
        "repository": {
          "__rl": true,
          "value": "AI-QA",
          "mode": "list",
          "cachedResultName": "AI-QA",
          "cachedResultUrl": "https://github.com/Sogrey/AI-QA"
        },
        "title": "={{ $('æ‰“å°å½“å‰é—®é¢˜').item.json.result }}",
        "body": "={{ $json.answer }}\n\n======\n\næ¥è‡ªn8n",
        "labels": [
          {
            "label": "={{ $json.tags[0] }}"
          },
          {
            "label": "={{ $json.tags[1] }}"
          }
        ],
        "assignees": []
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        -560,
        -320
      ],
      "id": "4af4d391-c038-4e99-968b-18ec0f64e40a",
      "name": "Create an issue2",
      "webhookId": "366148d2-e895-431a-bcd3-81a615d46ca6",
      "credentials": {
        "githubApi": {
          "id": "cueFN1cqWfwin3Jo",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "owner": {
          "__rl": true,
          "value": "https://github.com/Sogrey",
          "mode": "url"
        },
        "repository": {
          "__rl": true,
          "value": "AI-QA",
          "mode": "list",
          "cachedResultName": "AI-QA",
          "cachedResultUrl": "https://github.com/Sogrey/AI-QA"
        },
        "title": "={{ $('æ‰“å°å½“å‰é—®é¢˜').item.json.result }}",
        "body": "={{ $json.answer }}\n\n======\n\næ¥è‡ªn8n",
        "labels": [
          {
            "label": "AI"
          },
          {
            "label": "äººå·¥æ™ºèƒ½"
          }
        ],
        "assignees": []
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        -560,
        0
      ],
      "id": "66951771-dc58-4f3a-8362-024b952b5582",
      "name": "Create an issue3",
      "webhookId": "366148d2-e895-431a-bcd3-81a615d46ca6",
      "credentials": {
        "githubApi": {
          "id": "cueFN1cqWfwin3Jo",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "owner": {
          "__rl": true,
          "value": "https://github.com/Sogrey",
          "mode": "url"
        },
        "repository": {
          "__rl": true,
          "value": "AI-QA",
          "mode": "list",
          "cachedResultName": "AI-QA",
          "cachedResultUrl": "https://github.com/Sogrey/AI-QA"
        },
        "title": "={{ $('æ‰“å°å½“å‰é—®é¢˜').item.json.result }}",
        "body": "={{ $json.answer }}\n\n======\n\næ¥è‡ªn8n",
        "labels": [
          {
            "label": "={{ $json.tags[0] }}"
          },
          {
            "label": "={{ $json.tags[1] }}"
          },
          {
            "label": "={{ $json.tags[2] }}"
          }
        ],
        "assignees": []
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        -560,
        -160
      ],
      "id": "80105805-b383-4db7-a3d1-bb503a243ba3",
      "name": "Create an issue",
      "webhookId": "366148d2-e895-431a-bcd3-81a615d46ca6",
      "credentials": {
        "githubApi": {
          "id": "cueFN1cqWfwin3Jo",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "numberInputs": 5
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -180,
        -60
      ],
      "id": "a59cb33c-2c70-418d-9127-7e74185740b8",
      "name": "Merge"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": 1,
                    "operator": {
                      "type": "array",
                      "operation": "lengthEquals",
                      "rightType": "number"
                    },
                    "id": "cc387298-1628-4967-86ae-6fd242b53f6f"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "TagLength=1"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "5582f84b-38ff-4959-b2f7-8ae13b37edfe",
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": 2,
                    "operator": {
                      "type": "array",
                      "operation": "lengthEquals",
                      "rightType": "number"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "TagLength=2"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "06a16f6b-0e1f-4db9-b590-d215573664c1",
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": 3,
                    "operator": {
                      "type": "array",
                      "operation": "lengthGte",
                      "rightType": "number"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "TagLength=3"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "c226a2ae-02d4-40d1-808b-77907cb1b0d5",
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": 0,
                    "operator": {
                      "type": "array",
                      "operation": "lengthEquals",
                      "rightType": "number"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "TagLength=0"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -960,
        -280
      ],
      "id": "136beebe-d0bd-42a9-bf96-20a5057ef177",
      "name": "Switch"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# Loop over input items and add a new field called 'myNewField' to the JSON of each one\n# for item in _input.all():\n#   item.json.myNewField = 1\n# return _input.all()\n\nprint(\"=====æ‰§è¡Œå®Œæˆ=====\")\n\nreturn {\"output\":\"æ‰§è¡Œå®Œæˆ\"}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1840,
        -500
      ],
      "id": "49b275a7-ed5e-4337-98f0-b9210fa54f6f",
      "name": "æ‰§è¡Œå®Œæˆ"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "èŠå¤©å†…å®¹åˆ†éš”æˆæ•°ç»„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "èŠå¤©å†…å®¹åˆ†éš”æˆæ•°ç»„": {
      "main": [
        [
          {
            "node": "Split Outæ‹†åˆ†èŠ‚ç‚¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MCP Trave2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "æ‰“å°å½“å‰é—®é¢˜": {
      "main": [
        [
          {
            "node": "AI Agent2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [
          {
            "node": "æ‰§è¡Œå®Œæˆ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ‰“å°å½“å‰é—®é¢˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent2": {
      "main": [
        [
          {
            "node": "æ¸…æ´—æ•°æ®ï¼Œè¾“å‡ºjson",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Outæ‹†åˆ†èŠ‚ç‚¹": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¸…æ´—æ•°æ®ï¼Œè¾“å‡ºjson": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create an issue": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Create an issue1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create an issue2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Create an issue3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Create an issue1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create an issue2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create an issue",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create an issue3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "8e5a4ccf-d56b-4355-8d3e-722b1a0bbf19",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ff7504071c56541a70399b1e6136e539cde91c5db72fa1495bc089767195dc70"
  },
  "id": "PeCHhTLoSgxyYxBg",
  "tags": []
}